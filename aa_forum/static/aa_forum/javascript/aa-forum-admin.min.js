$(document).ready(()=>{'use strict';const e=$('.categories-sortable');e.sortable({placeholder:'aa-forum-ui-placeholder',connectWith:'.categories_sortable',containment:'parent',start(t,o){const a=e.sortable('instance');o.placeholder.height(o.helper.height()),a.containment[3]+=2.5*o.helper.height(),a.containment[1]-=a.offset.click.top},update(){const e=[];$('.categories-sortable .category-sortable').each((t,o)=>{$(o).attr('data-position',t),e.push({catId:$(o).data('category-id'),catOrder:t})}),fetchPost({url:aaForumJsSettings.url.categoryOrder,csrfToken:aaForumJsSettings.form.csrfToken,payload:{categories:e}}).then(()=>{console.log('Categories sorted successfully.')}).catch(e=>{console.error('Error sorting categories:',e)})}}).disableSelection(),$('.categories-sortable select').SumoSelect({okCancelInMulti:!0,selectAll:!0}),void 0!==aaForumJsSettings.categoriesWithBoards&&aaForumJsSettings.categoriesWithBoards.length>0&&$(aaForumJsSettings.categoriesWithBoards).each((e,t)=>{$(aaForumJsSettings.categoriesWithBoards[e]).sortable({placeholder:'aa-forum-ui-placeholder',connectWith:aaForumJsSettings.categoriesWithBoards[e],containment:'parent',start(e,o){const a=$(t).sortable('instance');o.placeholder.height(o.helper.height()),a.containment[3]+=2.5*o.helper.height(),a.containment[1]-=a.offset.click.top},update(){const t=[];$(aaForumJsSettings.categoriesWithBoards[e]+' li.board-sortable').each((e,o)=>{$(o).attr('data-position',e),t.push({boardId:$(o).data('board-id'),boardOrder:e})}),fetchPost({url:aaForumJsSettings.url.boardOrder,csrfToken:aaForumJsSettings.form.csrfToken,payload:{boards:t}}).then(()=>{console.log('Boards sorted successfully.')}).catch(e=>{console.error('Error sorting boards:',e)})}}).disableSelection()}),void 0!==aaForumJsSettings.boardsWithChildren&&aaForumJsSettings.boardsWithChildren.length>0&&$(aaForumJsSettings.boardsWithChildren).each((e,t)=>{$(aaForumJsSettings.boardsWithChildren[e]).sortable({placeholder:'aa-forum-ui-placeholder',connectWith:aaForumJsSettings.boardsWithChildren[e],containment:'parent',start(e,o){const a=$(t).sortable('instance');o.placeholder.height(o.helper.height()),a.containment[3]+=2.5*o.helper.height(),a.containment[1]-=a.offset.click.top},update(){const t=[];$(aaForumJsSettings.boardsWithChildren[e]+' li.child-board-sortable').each((e,o)=>{$(o).attr('data-position',e),t.push({boardId:$(o).data('board-id'),boardOrder:e})}),fetchPost({url:aaForumJsSettings.url.boardOrder,csrfToken:aaForumJsSettings.form.csrfToken,payload:{boards:t}}).then(()=>{console.log('Child boards sorted successfully.')}).catch(e=>{console.error('Error sorting child boards:',e)})}}).disableSelection()})});
//# sourceMappingURL=aa-forum-admin.min.js.map