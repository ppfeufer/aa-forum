$(document).ready(()=>{const a=$(".categories-sortable");a.sortable({placeholder:"aa-forum-ui-placeholder",connectWith:".categories_sortable",containment:"parent",start(e,t){const o=a.sortable("instance");t.placeholder.height(t.helper.height()),o.containment[3]+=2.5*t.helper.height(),o.containment[1]-=o.offset.click.top},update(){const o=[];$(".categories-sortable .category-sortable").each((e,t)=>{$(t).attr("data-position",e),o.push({catId:$(t).data("category-id"),catOrder:e})}),fetchPost({url:aaForumJsSettings.url.categoryOrder,csrfToken:aaForumJsSettings.form.csrfToken,payload:{categories:o}}).then(()=>{console.log("Categories sorted successfully.")}).catch(e=>{console.error("Error sorting categories:",e)})}}).disableSelection(),$(".categories-sortable select").SumoSelect({okCancelInMulti:!0,selectAll:!0}),void 0!==aaForumJsSettings.categoriesWithBoards&&0<aaForumJsSettings.categoriesWithBoards.length&&$(aaForumJsSettings.categoriesWithBoards).each((e,a)=>{$(aaForumJsSettings.categoriesWithBoards[e]).sortable({placeholder:"aa-forum-ui-placeholder",connectWith:aaForumJsSettings.categoriesWithBoards[e],containment:"parent",start(e,t){const o=$(a).sortable("instance");t.placeholder.height(t.helper.height()),o.containment[3]+=2.5*t.helper.height(),o.containment[1]-=o.offset.click.top},update(){const o=[];$(aaForumJsSettings.categoriesWithBoards[e]+" li.board-sortable").each((e,t)=>{$(t).attr("data-position",e),o.push({boardId:$(t).data("board-id"),boardOrder:e})}),fetchPost({url:aaForumJsSettings.url.boardOrder,csrfToken:aaForumJsSettings.form.csrfToken,payload:{boards:o}}).then(()=>{console.log("Boards sorted successfully.")}).catch(e=>{console.error("Error sorting boards:",e)})}}).disableSelection()}),void 0!==aaForumJsSettings.boardsWithChildren&&0<aaForumJsSettings.boardsWithChildren.length&&$(aaForumJsSettings.boardsWithChildren).each((e,a)=>{$(aaForumJsSettings.boardsWithChildren[e]).sortable({placeholder:"aa-forum-ui-placeholder",connectWith:aaForumJsSettings.boardsWithChildren[e],containment:"parent",start(e,t){const o=$(a).sortable("instance");t.placeholder.height(t.helper.height()),o.containment[3]+=2.5*t.helper.height(),o.containment[1]-=o.offset.click.top},update(){const o=[];$(aaForumJsSettings.boardsWithChildren[e]+" li.child-board-sortable").each((e,t)=>{$(t).attr("data-position",e),o.push({boardId:$(t).data("board-id"),boardOrder:e})}),fetchPost({url:aaForumJsSettings.url.boardOrder,csrfToken:aaForumJsSettings.form.csrfToken,payload:{boards:o}}).then(()=>{console.log("Child boards sorted successfully.")}).catch(e=>{console.error("Error sorting child boards:",e)})}}).disableSelection()})});
//# sourceMappingURL=aa-forum-admin.min.js.map