$(document).ready(()=>{"use strict";const sortableCategories=$(".categories-sortable");sortableCategories.sortable({placeholder:"aa-forum-ui-placeholder",connectWith:".categories_sortable",containment:"parent",start(e,ui){const sort=sortableCategories.sortable("instance");ui.placeholder.height(ui.helper.height());sort.containment[3]+=ui.helper.height()*2.5;sort.containment[1]-=sort.offset.click.top},update(){const categories=[];$(".categories-sortable .category-sortable").each((index,element)=>{$(element).attr("data-position",index);categories.push({catId:$(element).data("category-id"),catOrder:index})});$.post(aaForumAdminSettings.urls.categoryOrder,{categories:JSON.stringify(categories),csrfmiddlewaretoken:aaForumAdminSettings.form.csrfToken})}}).disableSelection();$(".categories-sortable select").SumoSelect({okCancelInMulti:true,selectAll:true});if("undefined"!==typeof categoriesWithBoards&&categoriesWithBoards.length>0){$(categoriesWithBoards).each((key,element)=>{$(categoriesWithBoards[key]).sortable({placeholder:"aa-forum-ui-placeholder",connectWith:categoriesWithBoards[key],containment:"parent",start(e,ui){const sort=$(element).sortable("instance");ui.placeholder.height(ui.helper.height());sort.containment[3]+=ui.helper.height()*2.5;sort.containment[1]-=sort.offset.click.top},update(){const boards=[];$(categoriesWithBoards[key]+" li.board-sortable").each((index,element)=>{$(element).attr("data-position",index);boards.push({boardId:$(element).data("board-id"),boardOrder:index})});$.post(aaForumAdminSettings.urls.boardOrder,{boards:JSON.stringify(boards),csrfmiddlewaretoken:aaForumAdminSettings.form.csrfToken})}}).disableSelection()})}if("undefined"!==typeof boardsWithChildren&&boardsWithChildren.length>0){$(boardsWithChildren).each((key,element)=>{$(boardsWithChildren[key]).sortable({placeholder:"aa-forum-ui-placeholder",connectWith:boardsWithChildren[key],containment:"parent",start(e,ui){const sort=$(element).sortable("instance");ui.placeholder.height(ui.helper.height());sort.containment[3]+=ui.helper.height()*2.5;sort.containment[1]-=sort.offset.click.top},update(){const childBoards=[];$(boardsWithChildren[key]+" li.child-board-sortable").each((index,element)=>{$(element).attr("data-position",index);childBoards.push({boardId:$(element).data("board-id"),boardOrder:index})});$.post(aaForumAdminSettings.urls.boardOrder,{boards:JSON.stringify(childBoards),csrfmiddlewaretoken:aaForumAdminSettings.form.csrfToken})}}).disableSelection()})}});